
// This is how the grid view looks on all layouts
class ProjectGridView extends StatelessWidget {
  const ProjectGridView({
    Key? key,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return BlocBuilder<HomePageCubit, HomePageState>(
        builder: ((context, state) {
      return SliverGrid(
        gridDelegate: const SliverGridDelegateWithMaxCrossAxisExtent(
            childAspectRatio: 1 / 1.8, maxCrossAxisExtent: 150),
        delegate: SliverChildBuilderDelegate(childCount: state.totalProjects,
            (context, index) {
          return const ProjectView();
        }),
      );
    }));
  }
}

//This determines how each project, book or series looks
class ProjectView extends StatelessWidget {
  const ProjectView({
    Key? key,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsetsDirectional.all(8.0),
      child: Card(
        color: Theme.of(context).colorScheme.primaryContainer,
        elevation: 2,
        child: InkWell(
          //TODO: Implement later
          onTap: () {},
          //TODO: Add full functionality later
          onLongPress: () {
            context.read<HomePageCubit>().setSelectionMode();
          },
          enableFeedback: true,
          child: Column(
            children: [
              AspectRatio(
                aspectRatio: 1 / 1.5,
                child: Stack(children: [
                  Positioned.fill(
                      child: Padding(
                    padding: const EdgeInsets.all(8.0),
                    child: Container(),
                  )),
                  Positioned.fill(
                    child: FittedBox(
                        fit: BoxFit.contain,
                        child: Icon(
                          Icons.book,
                          color: Theme.of(context).colorScheme.primary,
                        )),
                  ),
                ]),
              ),
              Row(
                //TODO Confirm Text position in tabview
                mainAxisAlignment: MainAxisAlignment.end,
                children: [
                  Padding(
                    padding: const EdgeInsets.all(8.0),
                    child: Center(
                      child: Text(
                        'Title',
                        style: Theme.of(context).textTheme.titleMedium,
                      ),
                    ),
                  ),

                  
                ],
              )
            ],
          ),
        ),
      ),
    );
  }
}
